<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>To us</title>
  <link rel="stylesheet" href="main.css">
</head>

<body>
  <div class="main-container">

    <div id="sidebar-container"></div>

    <div class="background">
      <div class="white-overlay"></div>
      <div class="content">
        <div class="text-line">투어스와 함께</div>
        <div class="text-line">To us 여행을 떠나보세요</div>
        <div class="button-group">
          <button class="startBtn">시작하기</button>
          <button class="loginBtn" onclick="location.href='../login/login.html'">로그인</button>
        </div>
      </div>
    </div>
  </div>

  <!-- 사이드바 HTML 삽입 및 로그아웃 버튼 표시 제어 -->
  <script>
    fetch('../sidebar/sidebar.html')
      .then(res => res.text())
      .then(data => {
        document.getElementById('sidebar-container').innerHTML = data;

        // 로그아웃 버튼 로그인 상태에 따라 표시
        const isLoggedIn = localStorage.getItem('isLoggedIn');
        const logOutButton = document.querySelector('.sidebar-logOut');

        if (logOutButton) {
          logOutButton.style.display = isLoggedIn === 'true' ? 'block' : 'none';
        }
      });
  </script>

  <!-- 로그인 상태에 따라 로그인 버튼 숨기기 -->
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const loginBtn = document.querySelector('.loginBtn');
      const isLoggedIn = localStorage.getItem('isLoggedIn');

      if (isLoggedIn === 'true') {
        if (loginBtn) loginBtn.style.display = 'none';
      }

      const startBtn = document.querySelector('.startBtn');
      if (startBtn) {
        startBtn.addEventListener('click', function () {
          if (isLoggedIn === 'true') {
            window.location.href = '../main/MainPage.html';
          } else {
            alert('로그인이 필요합니다.');
            window.location.href = '../login/login.html';
          }
        });
      }
    });
  </script>

  <!-- 사이드바 관련 추가 JS (선택사항) -->
  <script src="../sidebar/sidebar.js"></script>
</body>

</html>
